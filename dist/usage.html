<!DOCTYPE html>
<html lang="en" class="page-usage">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Usage · 6to5</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body>
    <nav role="navigation" id="header" class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" data-toggle="collapse" data-target="#navigation" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="index.html" class="navbar-brand logo">6to5</a>
        </div>
        <div id="navigation" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href="tour.html">Tour</a></li>
            <li><a href="setup.html">Setup</a></li>
            <li class="active"><a href="usage.html">Usage</a></li>
            <li><a href="compare.html">Compare</a></li>
            <li><a href="caveats.html">Caveats</a></li>
            <li><a href="repl.html">REPL</a></li>
            <li><a href="https://gitter.im/6to5/6to5">Support</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://github.com/6to5/6to5">Github</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="docs-header">
      <div class="container">
        <h1>Usage</h1>
        <p>All of the built-in ways to use 6to5.</p>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-3 col-md-push-9">
          <div class="sidebar">
            <ul class="nav"></ul>
          </div>
        </div>
        <div class="col-md-9 col-md-pull-3 docs-content"><h2 id="cli">CLI</h2>
<blockquote>
<p>6to5 comes with a built-in CLI which can be used to compile files from the command line.</p>
</blockquote>
<h4 id="install">Install</h4>
<p>Using <a href="https://www.npmjs.com/">npm</a> you can install 6to5 globally, making it available from the
command line.</p>
<pre><code class="lang-sh">$ npm install --global 6to5
</code></pre>
<h3 id="6to5">6to5</h3>
<h4 id="compile-files">Compile Files</h4>
<p>Compile the file <code>script.js</code> and <strong>output to stdout</strong>.</p>
<pre><code class="lang-sh">$ 6to5 script.js
# output...
</code></pre>
<p>If you would like to <strong>output to a file</strong> you may use <code>--out-file</code> or <code>-o</code>.</p>
<pre><code class="lang-js">$ 6to5 script.js --out-file script-compiled.js
</code></pre>
<h4 id="compile-with-source-maps">Compile with Source Maps</h4>
<p>If you would then like to add a <strong>source map file</strong> you can use <code>--source-maps</code> or <code>-s</code>. <a href="http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/">Learn more about
source maps</a>.</p>
<pre><code class="lang-js">$ 6to5 script.js --out-file script-compiled.js --source-maps
</code></pre>
<p>If you would rather have <strong>inline source maps</strong>, you may use <code>--source-maps-inline</code> or <code>-t</code>.</p>
<pre><code class="lang-js">$ 6to5 script.js --out-file script-compiled.js --source-maps-inline
</code></pre>
<h4 id="compile-directories">Compile Directories</h4>
<p>Compile the entire <code>src</code> directory and output it to the <code>lib</code> directory.</p>
<pre><code class="lang-sh">$ 6to5 src --out-dir lib
</code></pre>
<p>Compile the entire <code>src</code> directory and output it to the one concatenated file.</p>
<pre><code class="lang-sh">$ 6to5 src --out-file script-compiled.js
</code></pre>
<h4 id="piping-files">Piping Files</h4>
<p>Pipe a file in via stdin and output it to <code>script-compiled.js</code></p>
<pre><code>$ 6to5 --out-file script-compiled.js &lt; script.js
</code></pre><h3 id="6to5-node">6to5-node</h3>
<p>6to5 comes with a second CLI which works exactly the same as Node.js&#39;s CLI, only it will compile
ES6 code before running it.</p>
<p>Launch a REPL (Read-Eval-Print-Loop).</p>
<pre><code class="lang-sh">$ 6to5-node
</code></pre>
<p>Evaluate code.</p>
<pre><code class="lang-sh">$ 6to5-node -e &quot;class Test { }&quot;
</code></pre>
<p>Compile and run <code>test.js</code>.</p>
<pre><code class="lang-sh">$ 6to5-node test
</code></pre>
<h2 id="require-hook">Require Hook</h2>
<p>All subsequent files required by node with the extensions <code>.es6</code> and <code>.js</code> will be transformed by
6to5. The polyfill specified in Polyfill is also required.</p>
<h4 id="install">Install</h4>
<pre><code class="lang-sh">$ npm install 6to5
</code></pre>
<h4 id="usage">Usage</h4>
<pre><code class="lang-js">require(&#39;6to5/register&#39;);
</code></pre>
<p><strong>NOTE:</strong> By default all requires to node_modules will be ignored. You can override this by passing
an ignore regex via:</p>
<pre><code class="lang-js">require(&#39;6to5/register&#39;)({
  // This will override `node_modules` ignoring - you can alternatively pass
  // a regex
  ignore: false
});
</code></pre>
<h4 id="register-options">Register Options</h4>
<pre><code class="lang-javascript">require(&#39;6to5/register&#39;)({
  // Optional ignore regex - if any filenames **do** match this regex then they
  // aren&#39;t compiled
  ignore: /regex/,

  // Optional only regex - if any filenames **don&#39;t** match this regex then they
  // aren&#39;t compiled
  only: /my_es6_folder/,

  // See options above for usage
  whitelist: [],
  blacklist: [],

  // This will remove the currently hooked extensions of .es6 and .js so you&#39;ll
  // have to add them back if you want them to be used again.
  extensions: [&#39;.js&#39;, &#39;.es6&#39;]
});
</code></pre>
<h2 id="api">API</h2>
<pre><code class="lang-javascript">var to5 = require(&#39;6to5&#39;);
</code></pre>
<h3 id="-to5-transform-code-options-"><code>to5.transform(code, [options])</code></h3>
<p>Transforms the passed in <code>code</code>.</p>
<p><strong>Example</strong></p>
<pre><code class="lang-js">var result = to5.transform(&#39;code();&#39;, options);
result.code;
result.map;
result.ast;
</code></pre>
<h3 id="-to5-transformfile-filename-options-callback-"><code>to5.transformFile(filename, [options], callback)</code></h3>
<p>Asynchronously transforms the entire contents of a file.</p>
<p><strong>Example</strong></p>
<pre><code class="lang-js">to5.transformFile(&#39;filename.js&#39;, options, function (err, result) {
  result.code;
});
</code></pre>
<h3 id="-to5-transformfilesync-filename-options-"><code>to5.transformFileSync(filename, [options])</code></h3>
<p>Synchronous version of <code>to5.transformFile</code>. Returns the transformed contents of the <code>filename</code>.</p>
<p><strong>Example</strong></p>
<pre><code class="lang-js">to5.transformFileSync(&#39;filename.js&#39;, options).code;
</code></pre>
<h2 id="options">Options</h2>
<table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filename</code></td>
<td><code>&quot;unknown&quot;</code></td>
<td>Filename for use in errors etc.</td>
</tr>
<tr>
<td><code>fileNameRelative</code></td>
<td><code>(filename)</code></td>
<td>Filename relative to <code>sourceRoot</code>.</td>
</tr>
<tr>
<td><code>blacklist</code></td>
<td><code>[]</code></td>
<td>Array of transformers to <strong>exclude</strong>. Run <code>6to5 --help</code> to see a full list of transformers.</td>
</tr>
<tr>
<td><code>whitelist</code></td>
<td><code>[]</code></td>
<td>Array of transformers to <strong>only</strong> use. Run <code>6to5 --help</code> to see a full list of transformers.</td>
</tr>
<tr>
<td><code>modules</code></td>
<td><code>&quot;common&quot;</code></td>
<td>Which module formatter to use. Run <code>6to5 --help</code> to see a full list of module formatters.</td>
</tr>
<tr>
<td><code>sourceMap</code></td>
<td><code>false</code></td>
<td>If truthy, adds a <code>map</code> property to returned output. If set to <code>&quot;inline&quot;</code>, a comment with a sourceMappingURL directive is added to the bottom of the returned code.</td>
</tr>
<tr>
<td><code>sourceMapName</code></td>
<td><code>(filenameRelative)</code></td>
<td>Set <code>file</code> on returned source map.</td>
</tr>
<tr>
<td><code>sourceFileName</code></td>
<td><code>(filenameRelative)</code></td>
<td>Set <code>sources[0]</code> on returned source map.</td>
</tr>
<tr>
<td><code>sourceRoot</code></td>
<td><code>(moduleRoot)</code></td>
<td>The root from which all sources are relative.</td>
</tr>
<tr>
<td><code>moduleRoot</code></td>
<td><code>(sourceRoot)</code></td>
<td>Optional prefix for the AMD module formatter that will be prepend to the filename on module definitions.</td>
</tr>
<tr>
<td><code>amdModuleIds</code></td>
<td><code>false</code></td>
<td>If truthy, insert an explicit id for each defined AMD module. By default, AMD modules are anonymous.</td>
</tr>
<tr>
<td><code>runtime</code></td>
<td><code>false</code></td>
<td>Optionally replace all 6to5 helper declarations with a referenece to this variable. If set to <code>true</code> then the default namespace is used <code>to5Runtime</code>.</td>
</tr>
<tr>
<td><code>comments</code></td>
<td><code>true</code></td>
<td>Output comments in generated output.</td>
</tr>
<tr>
<td><code>experimental</code></td>
<td><code>false</code></td>
<td>Enable support for experimental ES7 features.</td>
</tr>
</tbody>
</table>
<h2 id="polyfill">Polyfill</h2>
<blockquote>
<p>6to5 includes a polyfill that includes a custom
<a href="https://github.com/facebook/regenerator/blob/master/runtime.js">regenerator runtime</a> and
<a href="https://github.com/zloirock/core-js">core.js</a>.</p>
</blockquote>
<p>This will emulate a full ES6 environment. This polyfill is automatically loaded when using
<code>6to5-node</code> and <code>6to5/register</code>.</p>
<h4 id="usage-in-node-browserify">Usage in Node/Browserify</h4>
<p>You need to include the polyfill require at the top the <strong>entry point</strong> to your application.</p>
<pre><code class="lang-js">require(&#39;6to5/polyfill&#39;);
</code></pre>
<p>Fortunately, this is automatically loaded when using:</p>
<pre><code class="lang-js">require(&#39;6to5/register&#39;);
</code></pre>
<h4 id="usage-in-browser">Usage in Browser</h4>
<p>Available from the <code>browser-polyfill.js</code> file within the 6to5 directory of an npm release. This needs
to be included <strong>before</strong> all your compiled 6to5 code. You can either prepend it to your compiled
code or include it in a <code>&lt;script&gt;</code> before it.</p>
<p><strong>NOTE:</strong> Do not <code>require</code> this via browserify etc, use <code>6to5/polyfill</code>.</p>
<blockquote class="to5-callout to5-callout-warning">
  <h4>Polyfills are not perfect</h4>
  <p>
    Due to limitations in various ES5 environments not every polyfill will work in every
    environment.
  </p>
</blockquote>

<blockquote class="to5-callout to5-callout-warning">
  <h4>Certain polyfills not included</h4>
  <p>
    Certain polyfills are too large/complex for their implemented features to justify including them
    for all builds. You may have to include additional polyfills for a subset of ES6 features.
  </p>
</blockquote>

<h2 id="experimental">Experimental</h2>
<blockquote>
<p>6to5 also has experimental support for ES7 proposals.</p>
</blockquote>
<p>You can enable this with the <code>experimental: true</code> option when using the <a href="#node">Node API</a> or
<code>--experimental</code> when using the <a href="#cli">CLI</a>.</p>
<blockquote class="to5-callout to5-callout-warning">
  <h4>Subject to change</h4>
  <p>
    These proposals are subject to change so use with <strong>extreme caution</strong>. 6to5 may update without
    warning in order to track spec changes.
  </p>
</blockquote>

<h2 id="playground">Playground</h2>
<blockquote>
<p>Playground is a proving ground for <strong>possible</strong> ES7 proposals.</p>
</blockquote>
<blockquote class="to5-callout to5-callout-danger">
  <h4>Unofficial</h4>
  <p>
    These features are in no way endorsed by Ecma International and are not a part of ES6. They
    might become a part of ECMAScript in the future.
  </p>
</blockquote>

<h4 id="usage">Usage</h4>
<pre><code class="lang-js">$ 6to5 --playground
</code></pre>
<pre><code class="lang-js">to5.transform(&#39;code&#39;, { playground: true });
</code></pre>
<blockquote class="to5-callout to5-callout-info">
  <h4>Enables experimental</h4>
  <p>
    Enabling playground also enables experimental support.
  </p>
</blockquote>

<h3 id="memoization-assignment-operator">Memoization assignment operator</h3>
<p><strong>Uses</strong></p>
<pre><code class="lang-js">var obj = {};
obj.x ?= 2;
obj.x; // 2

obj = { x: 1 };
obj.x ?= 2;
obj.x; // 1

obj = { x: undefined }
obj.x ?= 2;
obj.x; // undefined
</code></pre>
<p><strong>Example</strong></p>
<pre><code class="lang-js">var obj = {};
obj.x ?= 2;
</code></pre>
<p>is equivalent to:</p>
<pre><code class="lang-js">var obj = {};
if (!Object.prototype.hasOwnProperty.call(obj, &#39;x&#39;)) obj.x = 2;
</code></pre>
<h3 id="method-binding">Method binding</h3>
<pre><code class="lang-js">var fn = obj#method;
var fn = obj#method(&#39;foob&#39;);

[&#39;foo&#39;, &#39;bar&#39;].map(#toUpperCase); // [&#39;FOO&#39;, &#39;BAR&#39;]
[1.1234, 23.53245, 3].map(#toFixed(2)); // [&#39;1.12&#39;, &#39;23.53&#39;, &#39;3.00&#39;]
</code></pre>
<p>is equivalent to:</p>
<pre><code>var fn = obj.method.bind(obj);
var fn = obj.method.bind(obj, &#39;foob&#39;);

[&#39;foo&#39;, &#39;bar&#39;].map(function (val) { return val.toUpperCase(); });
[1.1234, 23.53245, 3].map(function (val) { return val.toFixed(2); });
</code></pre><h3 id="object-getter-memoization">Object getter memoization</h3>
<pre><code class="lang-js">var foo = {
  memo bar() {
    return complex();
  }
};

class Foo {
  memo bar() {
    return complex();
  }
}
</code></pre>
<p>is equivalent to</p>
<pre><code class="lang-js">var foo = {
  get bar() {
    return Object.defineProperty(this, &quot;bar&quot;, {
      value: complex(),
      enumerable: true,
      configurable: true,
      writable: true
    }).bar;
  }
};

class Foo {
  get bar() {
    return Object.defineProperty(this, &quot;bar&quot;, {
      value: complex(),
      enumerable: true,
      configurable: true,
      writable: true
    }).bar;
  }
}
</code></pre>
<h3 id="this-shorthand">This shorthand</h3>
<pre><code class="lang-js">@foo
</code></pre>
<p>is equivalent to</p>
<pre><code>this.foo
</code></pre>
        </div>
      </div>
    </div>
    <div class="footer text-center"><p><a href="https://github.com/6to5/6to5">6to5</a> v1.15.0 · Distributed under MIT License</p>

    </div>
    <script src="scripts.js"></script>
  </body>
</html>